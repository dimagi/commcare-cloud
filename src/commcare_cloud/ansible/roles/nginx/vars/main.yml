---
nginx_user: www-data
nginx_access_log_name: nginx_access.log
nginx_error_log_name: nginx_error.log
ssl_base_dir: "/etc/pki/tls"
ssl_certs_dir: "{{ ssl_base_dir }}/certs"
ssl_keys_dir: "{{ ssl_base_dir }}/private"
nginx_ssl_cert: "{{ deploy_env }}_nginx_combined.crt"
nginx_ssl_key: "{{ deploy_env }}_nginx_commcarehq.org.key"
tableau_nginx_ssl_cert: "{{ deploy_env }}_nginx_tableau_combined.crt"
tableau_nginx_ssl_key: "{{ deploy_env }}_nginx_tableau.org.key"
cas_nginx_ssl_cert: "{{ deploy_env }}_nginx_cas_combined.crt"
cas_nginx_ssl_key: "{{ deploy_env }}_nginx_cas.org.key"
sentry_nginx_ssl_cert: "{{ deploy_env }}_sentry_nginx_combined.crt"
sentry_nginx_ssl_key: "{{ deploy_env }}_sentry_nginx_cas.org.key"
grafana_nginx_ssl_cert: "{{ deploy_env }}_grafana_nginx_combined.crt"
grafana_nginx_ssl_key: "{{ deploy_env }}_grafana_nginx_cas.org.key"
pna_nginx_ssl_cert: "{{ deploy_env }}_nginx_pna_combined.crt"
pna_nginx_ssl_key: "{{ deploy_env }}_nginx_pna.org.key"
reach_nginx_ssl_cert: "{{ deploy_env }}_nginx_reach_combined.crt"
reach_nginx_ssl_key: "{{ deploy_env }}_nginx_reach.org.key"
nginx_ssl_protocols: "TLSv1.2 TLSv1.3"
# disable emitting nginx version in error pages and HTTP server header
server_tokens: "off"

nginx_http_params:
  sendfile: "on"
  tcp_nopush: "on"
  tcp_nodelay: "on"
  keepalive_timeout: "65"
  types_hash_max_size: 2048
  server_names_hash_bucket_size: 128

nginx_separate_logs_per_site: True
commcarehq_errors_repository: "https://github.com/dimagi/commcare-hq-errorpages.git"
commcare_errors_branch: "master"
errors_home: "{{ www_home }}/error_root"
error_pages:
  - "502 503 /errors/50x.html"
  - "400 /errors/400.html"
