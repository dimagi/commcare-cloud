<!--THIS FILE IS AUTOGENERATED: DO NOT EDIT-->
<!--See https://github.com/dimagi/commcare-cloud/blob/master/changelog/README.md for instructions-->
# 36. Run command to clear sensitive information from Django sessions

**Date:** 2020-07-23

**Optional per env:** _only required on some environments_


## CommCare Version Dependency
The following version of CommCare must be deployed before rolling out this change:
[09a8f4ef](https://github.com/dimagi/commcare-hq/commit/09a8f4efcfc99f7add4d055465de621a47f06ee8)


## Change Context
It is stronly recommended to sanitize legacy Django sessions after upgrading
to Django 2.2.

## Details
CommCareHQ has recently been upgraded to use Django 2.2. The change includes a
library upgrade that patches CVE-2020-15105. See the
[security advisory](https://github.com/Bouke/django-two-factor-auth/security/advisories/GHSA-vhr6-pvjm-9qwf)
for complete details.

## Steps to update
Run the following management command to sanitize sessions containing sensitive
information:

```bash
cchq <env> django-manage clean_2fa_sessions
```

The impact on users is minimal. It is possible but very unlikely that a user
who is about to enter their 2FA code will be re-prompted for username and
password after the command is run, but other than that it should have no
impact on active sessions.
