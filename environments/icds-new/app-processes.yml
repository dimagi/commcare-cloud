environment: icds
http_proxy: 10.247.63.132:3128
additional_no_proxy_hosts: "relay.nic.in,smsgw.sms.gov.in,icds-cas.gov.in"
gunicorn_workers_factor: 2
formplayer_memory: "16000m"
gunicorn_workers_static_factor: 1
celery_processes:
  '10.247.164.40':  # celery0
    flower: {}
    celery:
      concurrency: 8
      max_tasks_per_child: 5
    celery_periodic:
       concurrency: 4
       server_whitelist: 10.247.164.40
    pillow_retry_queue:
       concurrency: 1
    submission_reprocessing_queue:
       concurrency: 1
    email_queue:
      concurrency: 2
    reminder_case_update_queue:
      pooling: gevent
      concurrency: 5
      num_workers: 5
    ucr_indicator_queue:
      concurrency: 4
  '10.247.164.41':  # celery1
    ucr_queue:
      concurrency: 4
      max_tasks_per_child: 5
    background_queue:
      concurrency: 4
      max_tasks_per_child: 1
    reminder_case_update_queue:
      pooling: gevent
      concurrency: 5
      num_workers: 10
    ucr_indicator_queue:
      concurrency: 4
  '10.247.164.42':  # celery2
    reminder_case_update_queue:
      pooling: gevent
      concurrency: 5
      num_workers: 10
    reminder_queue:
      pooling: gevent
      concurrency: 5
      num_workers: 6
    reminder_rule_queue:
      concurrency: 1
      max_tasks_per_child: 1
    saved_exports_queue:
      concurrency: 3
      max_tasks_per_child: 1
    ucr_indicator_queue:
      concurrency: 4
  '10.247.164.43':  # celery3
    # Still waiting on whitelisting from celery3
    # sms_queue:
    #   pooling: gevent
    #   concurrency: 10
    #   num_workers: 4
    reminder_case_update_queue:
      pooling: gevent
      concurrency: 5
      num_workers: 10
    async_restore_queue:
      concurrency: 4
    ucr_indicator_queue:
      concurrency: 8
  '10.247.164.44':  # celery4
    ucr_indicator_queue:
      concurrency: 10
    background_queue:
      concurrency: 4
      max_tasks_per_child: 1
    reminder_case_update_queue:
      pooling: gevent
      concurrency: 5
      num_workers: 10
  '10.247.164.31': # web0
    ucr_indicator_queue:
      concurrency: 3
    # Temporarily run the sms_queue worker here as web0 is whitelisted
    sms_queue:
      pooling: gevent
      concurrency: 20
      num_workers: 1
  '10.247.164.32': # web1
    ucr_indicator_queue:
      concurrency: 4
  '10.247.164.30': # web2
    ucr_indicator_queue:
      concurrency: 4
  '10.247.164.11': # web3
    ucr_indicator_queue:
      concurrency: 4
  '10.247.164.29': # web4
    ucr_indicator_queue:
      concurrency: 4
  '10.247.164.28': # web5
    ucr_indicator_queue:
      concurrency: 4
  '10.247.164.10': # web6
    ucr_indicator_queue:
      concurrency: 4
  '10.247.164.6': # web7
    ucr_indicator_queue:
      concurrency: 4
  '10.247.164.8': # web9
    ucr_indicator_queue:
      concurrency: 4
  '10.247.164.9': # web9
    ucr_indicator_queue:
      concurrency: 4
pillows:
  '10.247.164.37': # pillow0
    AppDbChangeFeedPillow:
      num_processes: 1
    ApplicationBlobDeletionPillow:
      num_processes: 1
    ApplicationToElasticsearchPillow:
      num_processes: 1
    BlobDeletionPillow:
      num_processes: 1
    CacheInvalidatePillow:
      num_processes: 1
    UserGroupsDbKafkaPillow:
      num_processes: 1
    UserPillow:
      num_processes: 1
    kafka-ucr-static-cases:
      start_process: 0
      num_processes: 6
      total_processes: 36
    CaseToElasticsearchPillow:
      start_process: 0
      num_processes: 6
      total_processes: 24
  '10.247.164.38': # pillow1
    DefaultChangeFeedPillow:
      num_processes: 1
    DomainDbKafkaPillow:
      num_processes: 1
    GroupPillow:
      num_processes: 1
    GroupToUserPillow:
      num_processes: 1
    kafka-ucr-static-awc-location:
      num_processes: 1
    UpdateUserSyncHistoryPillow:
      num_processes: 1
    UserCacheInvalidatePillow:
      num_processes: 1
    CaseToElasticsearchPillow:
      start_process: 6
      num_processes: 6
      total_processes: 24
    kafka-ucr-static-cases:
      start_process: 6
      num_processes: 6
      total_processes: 36
  '10.247.164.7': # pillow2
    kafka-ucr-static-cases:
      start_process: 12
      num_processes: 6
      total_processes: 36
    CaseToElasticsearchPillow:
      start_process: 12
      num_processes: 4
      total_processes: 24
  '10.247.164.35': # pillow3
    kafka-ucr-static-cases:
      start_process: 18
      num_processes: 6
      total_processes: 36
    CaseToElasticsearchPillow:
      start_process: 16
      num_processes: 4
      total_processes: 24
  '10.247.164.33': # pillow4
    kafka-ucr-static-cases:
      start_process: 24
      num_processes: 6
      total_processes: 36
    CaseToElasticsearchPillow:
      start_process: 20
      num_processes: 4
      total_processes: 24
  '10.247.164.36': # pillow5
    kafka-ucr-static-cases:
      start_process: 30
      num_processes: 6
      total_processes: 36
    FormSubmissionMetadataTrackerPillow:
      num_processes: 4
  '10.247.164.34': # pillow6
    kafka-ucr-static-forms:
      num_processes: 8
    kafka-ucr-main:
      num_processes: 1
    KafkaDomainPillow:
      num_processes: 1
    LedgerToElasticsearchPillow:
      num_processes: 1
    SqlSMSPillow:
      num_processes: 1
    XFormToElasticsearchPillow:
      num_processes: 4
