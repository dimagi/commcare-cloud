# For a real deployment
# should be e.g. 'www.commcarehq.org'
internal_domain_name: 'localdomain'

etc_hosts_lines: []
etc_hosts_lines_removed: []
# - "169.38.74.104   commcarehq-india.cloudant.com"

http_proxy_address: '192.168.33.14'
http_proxy_port: '3128'
http_proxy_parent_address: '192.168.33.1'
http_proxy_parent_port: '3128'

touchforms_enabled: false

riak_backend: "bitcask"
riak_ring_size: 64

ansible_user_password_sha_512: "{{ secrets.ANSIBLE_USER_PASSWORD_SHA_512 }}"

dev_users:
  present:
    - dmiller
    - droberts
    - jwilson
    - npellegrino
  absent: []

# use this value to switch between nginx and apache
proxy_type: nginx
elasticsearch_version: 1.7.6
elasticsearch_download_sha256: 78affc30353730ec245dad1f17de242a4ad12cf808eaa87dd878e1ca10ed77df.
elasticsearch_endpoint: '{{ groups.elasticsearch.0 }}'
elasticsearch_memory: '128m'
elasticsearch_cluster_name: 'deves'

# uncomment to only allow access to eth1
#ufw_private_interface: eth1

# uncomment and change to the control machine IP when using ufw
# this ensures that ssh access from the control machine is always allowed regardless of other firewall rules
#control_machine_ip: 127.0.0.1

ECRYPTFS_PASSWORD: "{{ secrets.ECRYPTFS_PASSWORD }}"

KSPLICE_ACTIVE: no
KSPLICE_ACTIVATION_KEY: "{{ secrets.KSPLICE_ACTIVATION_KEY }}"

DATADOG_ENABLED: False
DATADOG_API_KEY: "{{ secrets.DATADOG_API_KEY }}"
DATADOG_APP_KEY: "{{ secrets.DATADOG_API_KEY }}"

CLOUDANT_CLUSTER_NAME: null


# This dumps the dummy keystore, but allows the ansible script to continue, should be overriden for real deploys
#keystore_file: 'DimagiKeyStore'

backup_es: False

postgres_users:
  commcare:
    username: commcarehq
    password: commcarehq
  devreadonly:
    username: "devreadonly"
    password: devreadonly
    role_attr_flags: 'NOSUPERUSER,NOCREATEROLE,NOCREATEDB'
    privs:
      -
        privs: SELECT
        objs: ALL_IN_SCHEMA
  replication:
      username: 'hqrepl'
      password: 'hqrepl'
      role_attr_flags: 'LOGIN,REPLICATION'

encrypted_root: '/opt/data'

shared_drive_enabled: True
backup_postgres: plain
backup_blobdb: True
postgresql_backup_master: True
postgres_s3: False
nadir_hour: 18

nofile_limit: 65536

supervisor_http_enabled: True
supervisor_http_username: "{{ secrets.SUPERVISOR_HTTP_USERNAME }}"
supervisor_http_password: "{{ secrets.SUPERVISOR_HTTP_PASSWORD }}"

mailrelay: 'relay.example.com'

couchdb2:
  username: "{{ localsettings_private.COUCH_USERNAME }}"
  password: "{{ localsettings_private.COUCH_PASSWORD }}"

couchdb_bind:
  ty: static
  host: '{{ hostvars[inventory_hostname]["ansible_eth0"]["ipv4"]["address"] }}'

couch_dbs:
  default:
    host: "{{ groups.couchdb2.0 }}"
    port: 15984
    name: commcarehq
    username: "{{ localsettings_private.COUCH_USERNAME }}"
    password: "{{ localsettings_private.COUCH_PASSWORD }}"
    is_https: False
  users:
    host: "{{ groups.couchdb2.0 }}"
    port: 15984
    name: commcarehq__users
    username: "{{ localsettings_private.COUCH_USERNAME }}"
    password: "{{ localsettings_private.COUCH_PASSWORD }}"
    is_https: False

couchdb_cluster_settings:
  q: 8
  r: 1
  w: 1
  n: 1

TOUCHFORMS_API_USER: 'touchforms@example.com'

localsettings:
  ALLOWED_HOSTS:
    - localhost
    - 127.0.0.1
    - "{{ SITE_HOST }}"
#  BANK_ADDRESS:
#  BANK_NAME:
#  BANK_SWIFT_CODE:
  CELERY_PERIODIC_QUEUE: 'celery_periodic'
#  CELERY_REMINDER_CASE_UPDATE_QUEUE:
#  CELERY_REMINDER_RULE_QUEUE:
#  CELERY_REPEAT_RECORD_QUEUE:
  CELERY_RESULT_BACKEND: 'database'
#  COUCH_CACHE_DOCS:
#  COUCH_CACHE_VIEWS:
  DEPLOY_MACHINE_NAME: "{{ inventory_hostname }}"
  ELASTICSEARCH_HOST: "{{ groups.elasticsearch.0 }}"
  ELASTICSEARCH_PORT: '9200'
  # Run `python -m smtpd -n -c DebuggingServer 0.0.0.0:1025` on proxy
  EMAIL_SMTP_HOST: '{{ groups.proxy.0 }}'
  EMAIL_SMTP_PORT: '1025'
  # use True in prod!
  EMAIL_USE_TLS: no
  FULLSTORY_ID:
  HQ_INSTANCE: 'dev'
#  INVOICE_FROM_ADDRESS:
#  INVOICE_PREFIX:
#  INVOICE_STARTING_NUMBER:
  J2ME_ADDRESS: ''
  KAFKA_URL: "{{ groups.kafka.0 }}:9092"
  LOCAL_PILLOWS:
    custom:
      - name: 'kafka-ucr-main-custom-1'
        class: 'corehq.apps.userreports.pillow.ConfigurableReportKafkaPillow'
        instance: 'corehq.apps.userreports.pillow.get_kafka_ucr_static_pillow'
        params:
          ucr_division: '09'
      - name: 'kafka-ucr-main-custom-2'
        class: 'corehq.apps.userreports.pillow.ConfigurableReportKafkaPillow'
        instance: 'corehq.apps.userreports.pillow.get_kafka_ucr_static_pillow'
        params:
          ucr_division: 'af'
#  MEDIA_ROOT:
#  PILLOWTOP_MACHINE_ID:
#  PILLOW_RETRY_QUEUE_ENABLED:
  REDIS_DB: '0'
  REDIS_HOST: "{{ groups.redis.0 }}"
  REDIS_PORT: '6379'
#  REMINDERS_QUEUE_ENABLED:
  STATIC_CDN: ""
#  SMS_QUEUE_ENABLED: ''
#  STAGING_DOMAINS:
#  STATIC_ROOT:
#  XFORMS_PLAYER_URL: "http://{{ groups.touchforms.0 }}:4444"
  FORMPLAYER_URL: "http://{{ groups.formplayer.0 }}:8181"
#  ENABLE_DRACONIAN_SECURITY_FEATURES: yes

root_email: /dev/null

commcare_cloud_remote_user: vagrant
commcare_cloud_root_user: ubuntu
commcare_cloud_strict_host_key_checking: no
commcare_cloud_use_vault: no
