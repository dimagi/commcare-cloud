SITE_HOST: 'www.commcarehq.org'
NO_WWW_SITE_HOST: 'commcarehq.org'
COMMTRACK_SITE_HOST: 'commtrack.org'
J2ME_SITE_HOST: 'j2mewww.commcarehq.org'
# This sets production_commcare as the default endpoint for ssl connections
primary_ssl_env: "production"

nginx_hsts_max_age: 300 # 5 minutes

# commcarehq.org of certs
nginx_combined_cert_value: "{{ ssl_secrets.certs.commcarehq_org }}"
nginx_key_value: "{{ ssl_secrets.private_keys.commcarehq_org }}"

# commtrack.org
commtrack_nginx_combined_cert_value: "{{ ssl_secrets.certs.commtrack_org }}"
commtrack_key_value: "{{ ssl_secrets.private_keys.commtrack_org }}"

special_sites:
  - commtrack_ssl
  - commtrack_http
  - tableau
  - wiki
  - wiki_http
  - motech
  - motech2

limit_req_zones:
  - name: "restore"
    zone: "$digest_submission"
    size: "10m"
    rate: "1r/s"
  - name: "submissions"
    zone: "$digest_submission"
    size: "10m"
    rate: "10r/s"

site_locations:
  - name: "/a/sauti-1/phone/restore"
    balancer: "{{ deploy_env }}_commcare"
    proxy_next_upstream_tries: 1
    proxy_buffers: 8 64k
    proxy_buffer_size: 64k
    client_body_buffer_size: 512k
    limit_reqs:
      - zone_name: "restore"
        burst: 100
        nodelay: True
  - name: "/a/sauti-1/receiver"
    balancer: "{{ deploy_env }}_commcare_submissions"
    proxy_next_upstream_tries: 1
    proxy_buffers: 8 64k
    proxy_buffer_size: 64k
    client_body_buffer_size: 512k
    limit_reqs:
      - zone_name: "submissions"
        burst: 100
        nodelay: True
